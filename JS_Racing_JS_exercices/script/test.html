<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Drag and Drop Canvas</title>
</head>

<body>
    <canvas id="canvas" width="500" height="500"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        let rect = {
            x: 50,
            y: 50,
            width: 50,
            height: 50
        };

        let drag = false;

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Effacer le canvas
            ctx.fillStyle = 'blue';
            ctx.fillRect(rect.x, rect.y, rect.width, rect.height); // Dessiner le rectangle
        }

        function mouseDown(e) {
            if (e.offsetX > rect.x && e.offsetX < rect.x + rect.width &&
                e.offsetY > rect.y && e.offsetY < rect.y + rect.height) {
                drag = true;
            }
        }

        function mouseUp() {
            drag = false;
        }

        function mouseMove(e) {
            if (drag) {
                rect.x = e.offsetX - rect.width / 2;
                rect.y = e.offsetY - rect.height / 2;
                draw();
            }
        }

        canvas.addEventListener('mousedown', mouseDown);
        canvas.addEventListener('mouseup', mouseUp);
        canvas.addEventListener('mousemove', mouseMove);

        draw();

    </script>
</body>

</html>